"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const src_1 = require("@VizMediaEurope/core-package/lib/tests/node_modules/@VizMediaEurope/core-package");
describe('getRequestIP', () => {
    test('respond with IP from header', () => {
        const header = jest.fn().mockReturnValue('foobar');
        const reqMock = { header };
        const result = src_1.getRequestIP(reqMock);
        expect(header).toBeCalledWith('sourceip');
        expect(result).toEqual('foobar');
    });
    test('throw an error if its impossible to get IP', () => {
        const reqMock = {
            header: jest.fn().mockReturnValue(null),
            connection: {
                remoteAddress: null,
            },
        };
        expect(() => src_1.getRequestIP(reqMock)).toThrow('Cannot read IP from request');
    });
});
//# sourceMappingURL=getIP.test.js.map